.. _run-data-label:

Run Data
========

**mca_length** (*unsigned long* [#]_)
    The current size of the MCA data buffer for the specified channel.

**mca** (*unsigned long \**)
    The MCA data array for the specified channel. The caller is
    expected to allocate an array of length "mca_length" and pass that
    in as the ``value`` parameter when retrieving the MCA data.

**baseline_length** (*unsigned long*)
    The current size of the baseline data buffer for the specified
    channel.

**baseline** (*unsigned long \**)
    The baseline data for the specified channel. The caller is
    expected to allocate an array of length "baseline_length" and pass
    that in as the ``value`` parameter when retrieving the baseline
    data.

**runtime** (*double*)
    The realtime run statistic, reported in seconds.

**realtime** (*double*)
    Alias for "runtime".

**trigger_livetime** (*double*)
    The livetime run statistic as measured by the trigger filter,
    reported in seconds.

**livetime** (*double*)
    The calculated energy filter livetime, reported in seconds.

**input_count_rate** (*double*)
    The measured input count rate, reported as counts / second.

**output_count_rate** (*double*)
    The output count rate, reported as counts / second.

**sca_length** (*unsigned short*)
    The number of elements in the SCA data buffer for the specified
    channel.

**sca** (*double \**)
    The SCA data buffer for the specified channel. The caller is
    expected to allocate an array of length "sca_length" and pass that
    in as the ``value`` parameter when retrieving the SCA data.

**run_active** (*unsigned long*)
    The current run status for the specified channel. If the value is
    non-zero then a run is currently active on the channel.

**buffer_full_a** (*unsigned short*) (mapping [#]_)
    The current status of buffer 'a'. If the value is non-zero then
    the buffer is full.

**buffer_full_b** (*unsigned short*) (mapping)
    The current status of buffer 'b'. If the value is non-zero then
    the buffer is full.

**buffer_len** (*unsigned long*) (mapping)
    The size of a mapping buffer. For a given mapping run, this value
    will remain constant and, therefore, only needs to read once at
    the start of the run.

**buffer_a** (*unsigned long \**) (mapping)
    The data in buffer 'a'. The caller is expected to allocate an
    array of length "buffer_len" and pass that in as the ``value``
    parameter when retrieving the buffer data.

**buffer_b** (*unsigned long \**) (mapping)
    The data in buffer 'b'. The caller is expected to allocate an
    array of length "buffer_len" and pass that in as the ``value``
    parameter when retrieving the buffer data.

**current_pixel** (*unsigned long*) (mapping)
    The current pixel number. The number is reset to 0 at the start of
    each new mapping run.

**buffer_overrun** (*unsigned short*) (mapping)
    If non-zero, indicates the the current buffer has overflowed.

**module_statistics** (*double \**) (**DEPRECATED** [#]_)
    Returns an array containing statistics for the
    module. The caller is responsible for allocating enough memory for
    at least 28 elements and passing it in as the ``value``
    parameter. The returned data is stored in the array as follows:

    | [channel 0 realtime,
    | channel 0 trigger livetime,
    | channel 0 energy livetime,
    | channel 0 triggers,
    | channel 0 MCA events,
    | channel 0 input count rate,
    | channel 0 output count rate,
    | ...
    | channel 3 realtime,
    | channel 3 trigger livetime,
    | ...
    | channel 3 output count rate]

**module_statistics_2** (*double \**)
    Returns an array containing statistics for the module. The caller
    is responsible for allocating enough memory for at least 36
    elements and passing it in as the ``value`` parameter. The
    returned data is stored in the array as follows:

    | [channel 0 realtime,
    | channel 0 trigger livetime,
    | channel 0 energy livetime,
    | channel 0 triggers,
    | channel 0 MCA events,
    | channel 0 input count rate,
    | channel 0 output count rate,
    | channel 0 underflows,
    | channel 0 overflows,
    | ...
    | channel 3 realtime,
    | channel 3 trigger livetime,
    | ...
    | channel 3 overflows ]

**module_mca** (*unsigned long \**)
    Returns the MCA data for all 4 channels flattened into a single
    array. The MCA length is required to be the same for all 4
    channels in the module. The caller is expected to allocate an
    array of "mca_length" * 4 and pass that in as the ``value``
    parameter when retrieving the buffer data.

**mca_events** (*double*)
    Returns the number of events in the MCA histogram for the
    specified channel.

**total_output_events** (*unsigned long*)
    The total number of events in the current run defined as the sum
    of the events in the MCA, the underflow events and the overflow
    events.

**events_in_run** (*unsigned long*) (**DEPRECATED**)
    Alias for "total_output_events".

**list_buffer_len_a** (*unsigned long*) (mapping)
    The length of list buffer 'a'. The length of the list buffer
    varies between reads.

**list_buffer_len_b** (*unsigned long*) (mapping)
    The length of list buffer 'b'. The length of the list buffer
    varies between reads.

.. rubric:: Footnotes

.. [#] The italicized type that follows the name is the type of the
       argument passed into the ``value`` parameter of
       ``xiaGetRunData()``.

.. [#] Run data values annotated with "mapping" require that mapping
       mode be enabled when reading the value. If mapping mode is not
       enabled an error is returned.

.. [#] The current version of "module_statistics" is officially
       deprecated in this release and will be replaced with the
       functionality described in "module_statistics_2" in the next
       release.
